name: Git Sync Action
description: ðŸ”ƒ Sync two git repositories
branding:
  icon: 'git-branch'
  color: 'gray-dark'
inputs:
  SOURCE_REPO:
    description: GitHub repo slug or full url
    required: true
  SOURCE_BRANCH:
    description: Branch name to sync from
    required: true
  DESTINATION_REPO:
    description: GitHub repo slug or full url
    required: true
  DESTINATION_BRANCH:
    description: Branch name to sync to
    required: true
  ssh_private_key:
    description: SSH key used to authenticate with source and destination ssh urls provided (optional if public or https url with authentication)
    required: false
  source_ssh_private_key:
    description: SSH key used to authenticate with source ssh url provided (optional if public or https url with authentication)
    required: false
  destination_ssh_private_key:
    description: SSH key used to authenticate with destination ssh url provided (optional if public or https url with authentication)
    required: false
runs:
  using: 'docker'
  image: 'Dockerfile'
  env:
    SSH_PRIVATE_KEY: ${{ inputs.ssh_private_key }}
    SOURCE_SSH_PRIVATE_KEY: ${{ inputs.source_ssh_private_key }}
    DESTINATION_SSH_PRIVATE_KEY: ${{ inputs.destination_ssh_private_key }}
  args:
    - ${{ inputs.SOURCE_REPO }}
    - ${{ inputs.SOURCE_BRANCH }}
    - ${{ inputs.DESTINATION_REPO }}
    - ${{ inputs.DESTINATION_BRANCH }}
